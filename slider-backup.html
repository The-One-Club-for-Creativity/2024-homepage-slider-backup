<link rel="stylesheet" type="text/css" href="/scripts/css/slick/slick.css" />
<link
  rel="stylesheet"
  type="text/css"
  href="/scripts/css/slick/slick-theme.css"
/>
<style>
  /* General Styling */
  .sliderContainer {
    margin: 0 auto;
    text-align: center;
    width: 100%;
    height: 100%;
    max-height: 540px;
    max-width: 1351.69px;
  }

  .paneContainer {
    height: 100%;
    position: relative;

    /* Gap between slides */
    padding: 0 5px 0 5px;
  }

  .paneContainerLink {
    cursor: pointer;
  }

  .slick-slide video,
  .slick-slide img {
    display: block;
    height: 100%;
    max-height: 540px;

    /* Fade images in - Could be removed */
    transition: 0.5s;
    opacity: 75%;
  }

  .slick-center video,
  .slick-center img {
    height: 100%;
    opacity: 100%;
  }

  /* --------- BOTTOM LINK ---------  */

  .videoLinkContainer {
    position: absolute;
    bottom: 20px;
    text-align: left;

    /* Main positioning of link button */
    /* left: 20%; */

    /* To hide the buttons until they aren't centered */
    opacity: 0%;
    transition: 0.5s;
  }

  /* Show links when on center slide */
  .slick-center .videoLinkContainer {
    opacity: 100%;
  }

  .videoLink {
    text-decoration: none;
    text-transform: uppercase;
    font-weight: bold;
    font-size: 14pt;
    letter-spacing: 0px;
    color: black;
    background-color: white;
    border: 1px solid black;
    padding: 7.5px 15px 6.5px;

    transition: 0.5s;
  }

  .videoLink:hover {
    background-color: black;
    color: white;
    border: 1px solid white;
  }

  .videoLinkText {
    color: white;
    text-shadow: 2px 2px 4px black;
    font-weight: bold;
    font-size: 20pt;
  }

  /* ------- ARROW BUTTONS -------- */
  .slick-prev {
    left: 15px;
    margin-left: 5px;
  }
  .slick-next {
    right: 15px;
    margin-right: 5px;
  }

  .slick-prev,
  .slick-next {
    z-index: 1;
    width: 35px;
    height: 35px;
    border-radius: 100%;
  }

  .slick-prev:before,
  .slick-next:before {
    font-size: 40px;
    color: rgb(255, 255, 255);
    opacity: 75%;
    text-shadow: 2px 2px 4px rgb(0, 0, 0);
    transition: 0.5s;
  }

  .slick-next:focus,
  .slick-prev:focus {
    opacity: 75%;
    transition: 0.5s;
  }

  .slick-prev:hover,
  .slick-next:hover {
    opacity: 1;
    transition: 0.5s;
  }

  /* Graceful Loading */

  .paneContainer {
    opacity: 0;
  }

  /* ----- MEDIA QUERIES ----- */

  /* After left menu disappears */
  @media screen and (max-width: 991px) {
    .sliderContainer video,
    .sliderContainer img {
      width: 95vw;
    }
    .videoLinkText {
      font-size: 16pt;
    }
    .slider {
      margin-bottom: 20px;
    }
  }

  /* Phones and tiny browsers */
  @media screen and (max-width: 600px) {
    .videoLinkText {
      font-size: 12pt;
    }
    .videoLink {
      font-size: 10pt;
    }
    .slick-prev:before,
    .slick-next:before {
      opacity: 0;
    }
  }
</style>

<div class="sliderContainer">
  <!-- CONTAINER -->
  <div class="slider">
    <!-- VIDEO PANE -->
    <div class="paneContainer">
      <a class="paneContainerLink" href="https://onecreatorlab.org/apply/">
        <video autoplay muted loop playsinline id="ocl-pane">
          <source
            src="/images/userfiles/images/home/homeSlider2024/OCL_generic_411_1350x540.mp4"
            type="video/mp4"
          />
        </video>
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">OCL Spring 2026 Applications are open</h3>
          <a class="videoLink" href="https://onecreatorlab.org/apply/"
            >APPLY NOW</a
          >
        </div>
      </a>
    </div>

    <!-- IMAGE PANE -->
    <div class="paneContainer">
      <a
        class="paneContainerLink"
        href="https://www.oneclub.org/awards/rankings/-archive/agency/2025/all/all/all/all"
      >
        <img
          id="global-rankings-pane"
          data-lazy="/images/userfiles/images/home/homeSlider2024/GCR-411-1350x540.jpg"
        />
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">2025 Global Rankings Announced</h3>
          <a
            class="videoLink"
            href="https://www.oneclub.org/awards/rankings/-archive/agency/2025/all/all/all/all"
            >VIEW RANKINGS</a
          >
        </div>
      </a>
    </div>

    <!-- VIDEO PANE -->
    <div class="paneContainer">
      <a class="paneContainerLink" href="https://oneshow.org/">
        <video autoplay muted loop playsinline id="one-show-pane">
          <source
            src="/images/userfiles/images/home/homeSlider2024/2026OneShow_Regular-Deadline_TOC411-1350x540%20(1).mp4"
            type="video/mp4"
          />
        </video>
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">
            The One Show 2026 Regular Deadline: January 23
          </h3>
          <a class="videoLink" href="https://oneshow.org/">ENTER NOW</a>
        </div>
      </a>
    </div>

    <!-- IMAGE PANE -->
    <div class="paneContainer">
      <a class="paneContainerLink" href="https://adcawards.org/">
        <img
          id="adc-pane"
          data-lazy="/images/userfiles/images/promo/ADC105BannerforWeb.jpg"
        />
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">
            ADC AWARDS — Regular Deadline: January 23
          </h3>
          <a class="videoLink" href="https://adcawards.org/">ENTER NOW</a>
        </div>
      </a>
    </div>

    <!-- VIDEO PANE -->
    <div class="paneContainer">
      <a class="paneContainerLink" href="https://youngones.org/">
        <video autoplay muted loop playsinline id="young-ones-pane">
          <source
            src="/images/userfiles/images/home/homeSlider2024/YO%20-%20411%20-%201350%E2%80%8A%C3%97%E2%80%8A540noaudio.mp4"
            type="video/mp4"
          />
        </video>
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">
            Young Ones Student Awards – Regular Deadline: February 27
          </h3>
          <a class="videoLink" href="https://youngones.org/">ENTER NOW</a>
        </div>
      </a>
    </div>

    <!-- VIDEO PANE -->
    <div class="paneContainer">
      <a class="paneContainerLink" href="https://enter.tdc.org/">
        <video autoplay muted loop playsinline id="tdc-pane">
          <source
            src="/images/userfiles/images/home/homeSlider2024/TDC72_One%20Club%20Homepage%20banner%20no%20date.mp4"
            type="video/mp4"
          />
        </video>
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">TDC72 – {include deadline_TDC_current}</h3>
          <a class="videoLink" href="https://enter.tdc.org/">ENTER NOW</a>
        </div>
      </a>
    </div>

    <!-- IMAGE PANE -->
    <div class="paneContainer">
      <a class="paneContainerLink" href="https://creativeleadersretreat.com/">
        <img
          id="clr-pane"
          data-lazy="/images/userfiles/images/home/homeSlider2024/CLR-2026-411-1350X540-Jan05-1.jpg"
        />
        <div class="videoLinkContainer">
          <h3 class="videoLinkText">Discounted Room Rates Until January 29</h3>
          <a class="videoLink" href="https://creativeleadersretreat.com/"
            >GET TICKETS</a
          >
        </div>
      </a>
    </div>

    <!-- END -->
  </div>
</div>

<script type="text/javascript" src="/scripts/css/slick/slick.min.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
    $(".slider").slick({
      centerMode: true,
      centerPadding: "80px",
      autoplay: true,
      autoplaySpeed: 5000,
      speed: 500,
      arrows: true,
      infinite: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      mobileFirst: true,
      adaptiveHeight: false,
      variableWidth: true,
      lazyLoad: "progressive",
    });

    // Go to the next slide after 0.5 seconds
    setTimeout(function () {
      $(".slider").slick("slickNext");
    }, 1);

    setTimeout(function () {
      $(".paneContainer").animate(
        {
          opacity: 1,
        },
        1000
      ); // Fades to opacity 1 over 1000 milliseconds (1 second)
    }, 1000); // Waits 1 second before starting the animation

    // Dynamically control the left position of the Link Container so it's always in the bottom left corner
    function updateLinkContainerPosition() {
      var paneContainerHalfWidth = $(".paneContainer").first().outerWidth() / 2;
      var slickListHalfWidth = $(".slick-list").outerWidth() / 2;
      var leftValue = paneContainerHalfWidth - slickListHalfWidth + 20;
      $(".videoLinkContainer").css("left", leftValue + "px");
    }

    updateLinkContainerPosition();
    $(window).resize(updateLinkContainerPosition);
    $(".slider").on("setPosition", updateLinkContainerPosition);
  });
</script>
<script type="text/javascript">
  // Preload images
  const imagePaths = [
    "/images/userfiles/images/home/homeSlider2024/GCR-411-1350x540.jpg",
    "/images/userfiles/images/promo/CLR2026411.png",
    "/images/userfiles/images/promo/ADC105BannerforWeb.jpg",
  ];

  imagePaths.forEach((src) => {
    const img = new Image();
    img.src = src;
  });

  // Preload videos
  const videoPaths = [
    "/images/userfiles/images/home/homeSlider2024/2026OneShow_Regular-Deadline_TOC411-1350x540_1.mp4",
    "/images/userfiles/images/home/homeSlider2024/YO%20-%20411%20-%201350%E2%80%8A%C3%97%E2%80%8A540noaudio.mp4",
    "/images/userfiles/images/home/homeSlider2024/OCL_generic_411_1350x540.mp4",
    "/images/userfiles/images/home/homeSlider2024/TDC72_One%20Club%20Homepage%20banner%20no%20date.mp4",
    "/images/userfiles/images/home/homeSlider2024/CLR-2026-411-1350X540-Jan05-1.jpg",
  ];

  videoPaths.forEach((src) => {
    const video = document.createElement("video");
    video.preload = "auto";
    video.src = src;
    // Optional: Uncomment to ensure full caching
    // video.style.display = "none";
    // document.body.appendChild(video);
  });
</script>
